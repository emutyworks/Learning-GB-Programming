;===================================================================================
;
;adress                      ;[wJoyPadPos]
;RCarXPosTbl:
;$2000                       ;L 1-7|8|9-15 R
;$2020 %0010 0000 %0010 0000 ;%0001 ;1
;$2040 %0010 0000 %0100 0000 ;%0010 ;2
;$2060 %0010 0000 %0110 0000 ;%0011 ;3
;$2080 %0010 0000 %1000 0000 ;%0100 ;4
;$20a0 %0010 0000 %1010 0000 ;%0101 ;5
;$20c0 %0010 0000 %1100 0000 ;%0110 ;6
;$20e0 %0010 0000 %1110 0000 ;%0111 ;7
;-
;$2100 %0010 0001 %0000 0000 ;%1000 ;8
;-
;$2120 %0010 0001 %0010 0000 ;%1001 ;9
;$2140 %0010 0001 %0100 0000 ;%1010 ;10
;$2160 %0010 0001 %0110 0000 ;%1011 ;11
;$2180 %0010 0001 %1000 0000 ;%1100 ;12
;$21a0 %0010 0001 %1010 0000 ;%1101 ;13
;$21c0 %0010 0001 %1100 0000 ;%1110 ;14
;$21e0 %0010 0001 %1110 0000 ;%1111 ;15
;
; - "RCarXPosTbl" data creation command.
; php createRoadXPosTbl.php > road_x.inc
;
;===================================================================================

SECTION "Rival Car X Position Table",ROM0[$2000]
RCarXPosTbl:
  db $48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48
  db $48,$49,$4b,$4c,$4d,$4e,$4f,$51,$52,$53,$54,$55,$58,$5a,$5d,$5f,$61,$64,$66,$69,$6b,$6d,$70,$73,$77,$7b,$7e,$82,$85,$89,$8d,$90
  db $48,$49,$4a,$4b,$4c,$4d,$4e,$4f,$50,$51,$52,$53,$55,$57,$5a,$5c,$5e,$60,$62,$64,$66,$68,$6a,$6d,$70,$73,$76,$7a,$7d,$80,$83,$86
  db $48,$49,$4a,$4b,$4b,$4c,$4d,$4e,$4f,$50,$51,$51,$53,$55,$57,$58,$5a,$5c,$5d,$5f,$61,$63,$64,$67,$6a,$6c,$6f,$71,$74,$76,$79,$7c
  db $48,$49,$49,$4a,$4b,$4b,$4c,$4d,$4d,$4e,$4f,$50,$51,$52,$54,$55,$56,$58,$59,$5b,$5c,$5d,$5f,$61,$63,$65,$67,$69,$6b,$6d,$6f,$71
  db $48,$49,$49,$4a,$4a,$4b,$4b,$4c,$4c,$4d,$4d,$4e,$4f,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$5b,$5c,$5e,$5f,$61,$62,$64,$65,$67
  db $48,$48,$49,$49,$49,$4a,$4a,$4a,$4b,$4b,$4b,$4c,$4c,$4d,$4e,$4f,$4f,$50,$51,$51,$52,$53,$53,$54,$55,$56,$57,$58,$5a,$5b,$5c,$5d
  db $48,$48,$48,$49,$49,$49,$49,$49,$49,$4a,$4a,$4a,$4a,$4b,$4b,$4b,$4c,$4c,$4c,$4d,$4d,$4d,$4e,$4e,$4f,$4f,$50,$50,$51,$51,$52,$52
  db $48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48
  db $48,$48,$48,$47,$47,$47,$47,$47,$47,$46,$46,$46,$46,$45,$45,$45,$44,$44,$44,$43,$43,$43,$42,$42,$41,$41,$40,$40,$3f,$3f,$3e,$3e
  db $48,$48,$47,$47,$47,$46,$46,$46,$45,$45,$45,$44,$44,$43,$42,$41,$41,$40,$3f,$3f,$3e,$3d,$3d,$3c,$3b,$3a,$39,$38,$36,$35,$34,$33
  db $48,$47,$47,$46,$46,$45,$45,$44,$44,$43,$43,$42,$41,$40,$3f,$3e,$3d,$3c,$3b,$3a,$39,$38,$37,$35,$34,$32,$31,$2f,$2e,$2c,$2b,$29
  db $48,$47,$47,$46,$45,$45,$44,$43,$43,$42,$41,$40,$3f,$3e,$3c,$3b,$3a,$38,$37,$35,$34,$33,$31,$2f,$2d,$2b,$29,$27,$25,$23,$21,$1f
  db $48,$47,$46,$45,$45,$44,$43,$42,$41,$40,$3f,$3f,$3d,$3b,$39,$38,$36,$34,$33,$31,$2f,$2d,$2c,$29,$26,$24,$21,$1f,$1c,$1a,$17,$14
  db $48,$47,$46,$45,$44,$43,$42,$41,$40,$3f,$3e,$3d,$3b,$39,$36,$34,$32,$30,$2e,$2c,$2a,$28,$26,$23,$20,$1d,$1a,$16,$13,$10,$0d,$0a
  db $48,$47,$45,$44,$43,$42,$41,$3f,$3e,$3d,$3c,$3b,$38,$36,$33,$31,$2f,$2c,$2a,$27,$25,$23,$20,$1d,$19,$15,$12,$0e,$0b,$07,$03,$00

SECTION "Car Sprite Table",ROM0[$2200]
CarSpriteTbl:
  ;X Pos,Tile Index,Attributes/Flags * 5
  db  7,56,$00, 14,50,$21,  6,48,$01, 21,52,$24,  0,60,$00, 0 ; Right 3
  db  7,56,$00, 14,64,$21,  6,58,$01, 21,44,$24,  0,60,$00, 0 ; Right 2
  db  7,30,$00,  7,36,$01, 15,38,$21, 23,40,$20,  0,32,$00, 0 ; Right 1
  db  8,28,$01, 16,28,$21,  1, 0,$00, 23, 0,$20,  0, 0,$00, 0 ; Center
  db 17,30,$20, 17,36,$21,  9,38,$01,  1,40,$00, 24,32,$20, 0 ; Left 1
  db 17,56,$20, 10,64,$01, 18,58,$21,  3,44,$04, 24,60,$20, 0 ; Left 2
  db 17,56,$20, 10,50,$01, 18,48,$21,  3,52,$04, 24,60,$20, 0 ; Left 3

SECTION "Rival Car Y Position Table",ROM0[$2300]
RCarYPosTbl:
  ;Y Pos,RCarSpriteTbl
  db RY00,0
  db RY01,0
  db RY02,1
  db RY03,1
  db RY04,1
  db RY05,1
  db RY06,2
  db RY07,2
  db RY08,2
  db RY09,3
  db RY10,3
  db RY11,3
  db RY12,3
  db RY13,4
  db RY14,4
  db RY15,4
  db RY16,4
  db RY17,4
  db RY18,5
  db RY19,5
  db RY20,5
  db RY21,5
  db RY22,5
  db RY23,6
  db RY24,6
  db RY25,6
  db RY26,6
  db RY27,6
  db RY28,6
  db RY29,6
  db RY30,6
  db RY31,6

SECTION "Rival Car Sprite Table",ROM0[$2400]
RCarSpriteTbl:
  ;Add X Pos,Tile Index,Attributes/Flags * 4
  db 8,26,$03, 16,26,$23, 8,26,$03, 16,26,$23 ,0,0,0,0
  db 8,22,$03, 16,22,$23, 8,22,$03, 16,22,$23 ,0,0,0,0
  db 8,18,$03, 16,18,$23, 8,18,$03, 16,18,$23 ,0,0,0,0
  db 3,12,$02, 21,12,$22, 8,16,$03, 16,16,$23 ,0,0,0,0
  db 3, 8,$02, 21, 8,$22, 8,20,$03, 16,20,$23 ,0,0,0,0
  db 2, 4,$02, 22, 4,$22, 8,24,$03, 16,24,$23 ,0,0,0,0
  db 1, 0,$02, 23, 0,$22, 8,28,$03, 16,28,$23 ,0,0,0,0

BGPalette:
  dw 576
  dw 12684
  dw 32767
  dw 31

  dw 576
  dw 12684
  dw 1023
  dw 32767

  dw 10565
  dw 32234
  dw 32767
  dw 0  

  dw 266
  dw 500
  dw 10565
  dw 0

ObjPalette:
  dw 15855
  dw 0
  dw 29596
  dw 924

  dw 15855
  dw 0
  dw 28
  dw 924

  dw 15855
  dw 0
  dw 29596
  dw 32564

  dw 15855
  dw 0
  dw 32006
  dw 32564

  dw 15855
  dw 0
  dw 29596
  dw 27200

;===================================================================================
;
; [Compressed data] | [Uncompressed]| [Source]       | [Created tool]
;---------------------------------------------------------------------
; sprites_comp.bin  | sprites.bin   | sprites.gbr    | GBMB
; tiles_comp.bin    | tiles.bin     | tiles.gbr      | GBTD
; bg_tile0_comp.bin | bg_tile0.bin  | map_editor.txt | GBCMapEditor
; bg_tile1_comp.bin | bg_tile1.bin  | map_editor.txt | GBCMapEditor
;
; - Compressed data creation command.
; php convBin.php
; *RunLengthEncoder.php is executed inside convBin.php.
;
; - Related documents
; Run-length encode binary data with php and decode it with assembly code.
; https://github.com/emutyworks/Learning-GB-Programming/wiki/RunLengthEncodeDecode
;
;===================================================================================

Sprites:
  INCBIN "sprites_comp.bin"
SpritesEnd:

Tiles:
  INCBIN "tiles_comp.bin"
TilesEnd:

BgTileMap0: ; Tile Indexes
  INCBIN "bg_tile0_comp.bin"
BgTileMap0End:

BgTileMap1: ; BG Map Attributes
  INCBIN "bg_tile1_comp.bin"
BgTileMap1End:

SECTION "HBlank Road Y Position Table",ROM0[$3000]
RoadYPosTbl:
  db S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1
  db S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1
  db S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1
  db S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1
  db S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0
  db S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0
  db S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0
  db S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0

;===================================================================================
;
;adress                      ;[wJoyPadPos]
;RoadXPosTbl:
;$4000                       ;L 1-7|8|9-15 R
;$4040 %0100 0000 %0100 0000 ;%00 01 ;1
;$4080 %0100 0000 %1000 0000 ;%00 10 ;2
;$40c0 %0100 0000 %1100 0000 ;%00 11 ;3
;$4100 %0100 0001 %0000 0000 ;%01 00 ;4
;$4140 %0100 0001 %0100 0000 ;%01 01 ;5
;$4180 %0100 0001 %1000 0000 ;%01 10 ;6
;$41c0 %0100 0001 %1100 0000 ;%01 11 ;7
;-
;$4200 %0100 1000 %1000 0000 ;%10 00 ;8
;-
;$4240 %0100 0010 %0100 0000 ;%10 01 ;9
;$4280 %0100 0010 %1000 0000 ;%10 10 ;10
;$42c0 %0100 0010 %1100 0000 ;%10 11 ;11
;$4300 %0100 0011 %0000 0000 ;%11 00 ;12
;$4340 %0100 0011 %0100 0000 ;%11 01 ;13
;$4380 %0100 0011 %1000 0000 ;%11 10 ;14
;$43c0 %0100 0011 %1100 0000 ;%11 11 ;15
;
; - "RoadXPosTbl" data creation command.
; php createRoadXPosTbl.php > road_x.inc
;
;===================================================================================

SECTION "HBlank Road X Position Table",ROM0[$4000]
RoadXPosTbl:
  db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
  db $00,$ff,$fe,$fd,$fc,$fb,$fa,$f9,$f8,$f7,$f6,$f5,$f4,$f3,$f2,$f1,$f0,$ef,$ee,$ed,$ec,$eb,$ea,$e9,$e8,$e7,$e6,$e5,$e4,$e3,$e2,$e1,$e1,$e0,$df,$de,$dd,$dc,$db,$da,$d9,$d8,$d7,$d6,$d5,$d4,$d3,$d2,$d1,$d0,$cf,$ce,$cd,$cc,$cb,$ca,$c9,$c8,$c7,$c6,$c5,$c4,$c3,$c2
  db $00,$ff,$fe,$fd,$fd,$fc,$fb,$fa,$f9,$f8,$f8,$f7,$f6,$f5,$f4,$f3,$f3,$f2,$f1,$f0,$ef,$ee,$ed,$ed,$ec,$eb,$ea,$e9,$e8,$e8,$e7,$e6,$e5,$e4,$e3,$e2,$e2,$e1,$e0,$df,$de,$dd,$dd,$dc,$db,$da,$d9,$d8,$d8,$d7,$d6,$d5,$d4,$d3,$d2,$d2,$d1,$d0,$cf,$ce,$cd,$cd,$cc,$cb
  db $00,$ff,$ff,$fe,$fd,$fc,$fc,$fb,$fa,$fa,$f9,$f8,$f8,$f7,$f6,$f5,$f5,$f4,$f3,$f3,$f2,$f1,$f1,$f0,$ef,$ee,$ee,$ed,$ec,$ec,$eb,$ea,$ea,$e9,$e8,$e7,$e7,$e6,$e5,$e5,$e4,$e3,$e2,$e2,$e1,$e0,$e0,$df,$de,$de,$dd,$dc,$db,$db,$da,$d9,$d9,$d8,$d7,$d7,$d6,$d5,$d4,$d4
  db $00,$ff,$ff,$fe,$fe,$fd,$fd,$fc,$fc,$fb,$fa,$fa,$f9,$f9,$f8,$f8,$f7,$f6,$f6,$f5,$f5,$f4,$f4,$f3,$f3,$f2,$f1,$f1,$f0,$f0,$ef,$ef,$ee,$ed,$ed,$ec,$ec,$eb,$eb,$ea,$ea,$e9,$e8,$e8,$e7,$e7,$e6,$e6,$e5,$e4,$e4,$e3,$e3,$e2,$e2,$e1,$e1,$e0,$df,$df,$de,$de,$dd,$dd
  db $00,$00,$ff,$ff,$fe,$fe,$fd,$fd,$fd,$fc,$fc,$fb,$fb,$fb,$fa,$fa,$f9,$f9,$f8,$f8,$f8,$f7,$f7,$f6,$f6,$f5,$f5,$f5,$f4,$f4,$f3,$f3,$f3,$f2,$f2,$f1,$f1,$f0,$f0,$f0,$ef,$ef,$ee,$ee,$ed,$ed,$ed,$ec,$ec,$eb,$eb,$ea,$ea,$ea,$e9,$e9,$e8,$e8,$e8,$e7,$e7,$e6,$e6,$e5
  db $00,$00,$ff,$ff,$ff,$ff,$fe,$fe,$fe,$fd,$fd,$fd,$fd,$fc,$fc,$fc,$fc,$fb,$fb,$fb,$fa,$fa,$fa,$fa,$f9,$f9,$f9,$f8,$f8,$f8,$f8,$f7,$f7,$f7,$f6,$f6,$f6,$f6,$f5,$f5,$f5,$f4,$f4,$f4,$f4,$f3,$f3,$f3,$f3,$f2,$f2,$f2,$f1,$f1,$f1,$f1,$f0,$f0,$f0,$ef,$ef,$ef,$ef,$ee
  db $00,$00,$00,$00,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$fe,$fe,$fe,$fe,$fe,$fe,$fe,$fd,$fd,$fd,$fd,$fd,$fd,$fd,$fc,$fc,$fc,$fc,$fc,$fc,$fc,$fc,$fb,$fb,$fb,$fb,$fb,$fb,$fb,$fa,$fa,$fa,$fa,$fa,$fa,$fa,$f9,$f9,$f9,$f9,$f9,$f9,$f9,$f8,$f8,$f8,$f8,$f8,$f8,$f8,$f7,$f7,$f7
  db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
  db $00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$02,$02,$02,$02,$02,$02,$02,$03,$03,$03,$03,$03,$03,$03,$04,$04,$04,$04,$04,$04,$04,$04,$05,$05,$05,$05,$05,$05,$05,$06,$06,$06,$06,$06,$06,$06,$07,$07,$07,$07,$07,$07,$07,$08,$08,$08,$08,$08,$08,$08,$09,$09,$09
  db $00,$00,$01,$01,$01,$01,$02,$02,$02,$03,$03,$03,$03,$04,$04,$04,$04,$05,$05,$05,$06,$06,$06,$06,$07,$07,$07,$08,$08,$08,$08,$09,$09,$09,$0a,$0a,$0a,$0a,$0b,$0b,$0b,$0c,$0c,$0c,$0c,$0d,$0d,$0d,$0d,$0e,$0e,$0e,$0f,$0f,$0f,$0f,$10,$10,$10,$11,$11,$11,$11,$12
  db $00,$00,$01,$01,$02,$02,$03,$03,$03,$04,$04,$05,$05,$05,$06,$06,$07,$07,$08,$08,$08,$09,$09,$0a,$0a,$0b,$0b,$0b,$0c,$0c,$0d,$0d,$0d,$0e,$0e,$0f,$0f,$10,$10,$10,$11,$11,$12,$12,$13,$13,$13,$14,$14,$15,$15,$16,$16,$16,$17,$17,$18,$18,$18,$19,$19,$1a,$1a,$1b
  db $00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$06,$06,$07,$07,$08,$08,$09,$0a,$0a,$0b,$0b,$0c,$0c,$0d,$0d,$0e,$0f,$0f,$10,$10,$11,$11,$12,$13,$13,$14,$14,$15,$15,$16,$16,$17,$18,$18,$19,$19,$1a,$1a,$1b,$1c,$1c,$1d,$1d,$1e,$1e,$1f,$1f,$20,$21,$21,$22,$22,$23,$23
  db $00,$01,$01,$02,$03,$04,$04,$05,$06,$06,$07,$08,$08,$09,$0a,$0b,$0b,$0c,$0d,$0d,$0e,$0f,$0f,$10,$11,$12,$12,$13,$14,$14,$15,$16,$16,$17,$18,$19,$19,$1a,$1b,$1b,$1c,$1d,$1e,$1e,$1f,$20,$20,$21,$22,$22,$23,$24,$25,$25,$26,$27,$27,$28,$29,$29,$2a,$2b,$2c,$2c
  db $00,$01,$02,$03,$03,$04,$05,$06,$07,$08,$08,$09,$0a,$0b,$0c,$0d,$0d,$0e,$0f,$10,$11,$12,$13,$13,$14,$15,$16,$17,$18,$18,$19,$1a,$1b,$1c,$1d,$1e,$1e,$1f,$20,$21,$22,$23,$23,$24,$25,$26,$27,$28,$28,$29,$2a,$2b,$2c,$2d,$2e,$2e,$2f,$30,$31,$32,$33,$33,$34,$35
  db $00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0a,$0b,$0c,$0d,$0e,$0f,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$1a,$1b,$1c,$1d,$1e,$1f,$1f,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$2a,$2b,$2c,$2d,$2e,$2f,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$3a,$3b,$3c,$3d,$3e