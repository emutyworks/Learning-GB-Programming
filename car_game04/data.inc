;===================================================================================
;
;adress                      ;[wJoyPadPos]
;RCarXPosTbl:
;$2000                       ;L 1-7|8|9-15 R
;$2020 %0010 0000 %0010 0000 ;%0001 ;1
;$2040 %0010 0000 %0100 0000 ;%0010 ;2
;$2060 %0010 0000 %0110 0000 ;%0011 ;3
;$2080 %0010 0000 %1000 0000 ;%0100 ;4
;$20a0 %0010 0000 %1010 0000 ;%0101 ;5
;$20c0 %0010 0000 %1100 0000 ;%0110 ;6
;$20e0 %0010 0000 %1110 0000 ;%0111 ;7
;-
;$2100 %0010 0001 %0000 0000 ;%1000 ;8
;-
;$2120 %0010 0001 %0010 0000 ;%1001 ;9
;$2140 %0010 0001 %0100 0000 ;%1010 ;10
;$2160 %0010 0001 %0110 0000 ;%1011 ;11
;$2180 %0010 0001 %1000 0000 ;%1100 ;12
;$21a0 %0010 0001 %1010 0000 ;%1101 ;13
;$21c0 %0010 0001 %1100 0000 ;%1110 ;14
;$21e0 %0010 0001 %1110 0000 ;%1111 ;15
;
; - "RCarXPosTbl" data creation command.
; php createRoadXPosTbl.php > road_x.inc
;
;===================================================================================

;SECTION "Rival Car X Position Table",ROM0[$2000]
;RCarXPosTbl:
;  db $48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48
;  db $48,$49,$4b,$4c,$4d,$4e,$4f,$51,$52,$53,$54,$55,$58,$5a,$5d,$5f,$61,$64,$66,$69,$6b,$6d,$70,$73,$77,$7b,$7e,$82,$85,$89,$8d,$90
;  db $48,$49,$4a,$4b,$4c,$4d,$4e,$4f,$50,$51,$52,$53,$55,$57,$5a,$5c,$5e,$60,$62,$64,$66,$68,$6a,$6d,$70,$73,$76,$7a,$7d,$80,$83,$86
;  db $48,$49,$4a,$4b,$4b,$4c,$4d,$4e,$4f,$50,$51,$51,$53,$55,$57,$58,$5a,$5c,$5d,$5f,$61,$63,$64,$67,$6a,$6c,$6f,$71,$74,$76,$79,$7c
;  db $48,$49,$49,$4a,$4b,$4b,$4c,$4d,$4d,$4e,$4f,$50,$51,$52,$54,$55,$56,$58,$59,$5b,$5c,$5d,$5f,$61,$63,$65,$67,$69,$6b,$6d,$6f,$71
;  db $48,$49,$49,$4a,$4a,$4b,$4b,$4c,$4c,$4d,$4d,$4e,$4f,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$5b,$5c,$5e,$5f,$61,$62,$64,$65,$67
;  db $48,$48,$49,$49,$49,$4a,$4a,$4a,$4b,$4b,$4b,$4c,$4c,$4d,$4e,$4f,$4f,$50,$51,$51,$52,$53,$53,$54,$55,$56,$57,$58,$5a,$5b,$5c,$5d
;  db $48,$48,$48,$49,$49,$49,$49,$49,$49,$4a,$4a,$4a,$4a,$4b,$4b,$4b,$4c,$4c,$4c,$4d,$4d,$4d,$4e,$4e,$4f,$4f,$50,$50,$51,$51,$52,$52
;  db $48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48,$48
;  db $48,$48,$48,$47,$47,$47,$47,$47,$47,$46,$46,$46,$46,$45,$45,$45,$44,$44,$44,$43,$43,$43,$42,$42,$41,$41,$40,$40,$3f,$3f,$3e,$3e
;  db $48,$48,$47,$47,$47,$46,$46,$46,$45,$45,$45,$44,$44,$43,$42,$41,$41,$40,$3f,$3f,$3e,$3d,$3d,$3c,$3b,$3a,$39,$38,$36,$35,$34,$33
;  db $48,$47,$47,$46,$46,$45,$45,$44,$44,$43,$43,$42,$41,$40,$3f,$3e,$3d,$3c,$3b,$3a,$39,$38,$37,$35,$34,$32,$31,$2f,$2e,$2c,$2b,$29
;  db $48,$47,$47,$46,$45,$45,$44,$43,$43,$42,$41,$40,$3f,$3e,$3c,$3b,$3a,$38,$37,$35,$34,$33,$31,$2f,$2d,$2b,$29,$27,$25,$23,$21,$1f
;  db $48,$47,$46,$45,$45,$44,$43,$42,$41,$40,$3f,$3f,$3d,$3b,$39,$38,$36,$34,$33,$31,$2f,$2d,$2c,$29,$26,$24,$21,$1f,$1c,$1a,$17,$14
;  db $48,$47,$46,$45,$44,$43,$42,$41,$40,$3f,$3e,$3d,$3b,$39,$36,$34,$32,$30,$2e,$2c,$2a,$28,$26,$23,$20,$1d,$1a,$16,$13,$10,$0d,$0a
;  db $48,$47,$45,$44,$43,$42,$41,$3f,$3e,$3d,$3c,$3b,$38,$36,$33,$31,$2f,$2c,$2a,$27,$25,$23,$20,$1d,$19,$15,$12,$0e,$0b,$07,$03,$00

;SECTION "Rival Car Y Position Table",ROM0[$2200]
;RCarYPosTbl:
;  ; Y Pos,RCarSpriteTbl
;  db RY00,0
;  db RY01,0
;  db RY02,1
;  db RY03,1
;  db RY04,1
;  db RY05,1
;  db RY06,2
;  db RY07,2
;  db RY08,2
;  db RY09,3
;  db RY10,3
;  db RY11,3
;  db RY12,3
;  db RY13,4
;  db RY14,4
;  db RY15,4
;  db RY16,4
;  db RY17,4
;  db RY18,5
;  db RY19,5
;  db RY20,5
;  db RY21,5
;  db RY22,5
;  db RY23,6
;  db RY24,6
;  db RY25,6
;  db RY26,6
;  db RY27,6
;  db RY28,6
;  db RY29,6
;  db RY30,6
;  db RY31,6 ;64

;SECTION "Rival Car Right Sprite Table",ROM0[$2300]
;RCarRSpriteTbl:
;  ; Cnt, 'X,Index,Attr' * 3, Reset Flag:0
;  db 3, 15,122,$24, 7,126,$03, 15,126,$23, 0,0,0, 0,0,0
;  db 3, 15,122,$24, 6,120,$03, 14,120,$23, 0,0,0, 0,0,0
;  db 3, 17,122,$24, 7,116,$03, 15,116,$23, 0,0,0, 0,0,0
;  ; Cnt, 'X,Index,Attr' * 4
;  db 3,  7,114,$03, 15,114,$23, 20,66,$24,   2,12,$02, 0,0,0
;  db 3, 20,110,$24,  7,112,$03, 15,112,$23,  2, 8,$02, 20,10,$22
;  db 3, 21,106,$24,  7,108,$03, 15,108,$23,  1, 4,$02, 21, 6,$22
;  db 4,  7, 30,$00,  13,50,$23,  5, 48,$03, 20,52,$24, -2,60,$02

;SECTION "Rival Car Center Sprite Table",ROM0[$2400]
;RCarCSpriteTbl:
;  ; Cnt, 'X,Index,Attr' * 2, Reset Flag:0
;  db 2, 8,126,$03, 16,126,$23, 0,0,0, 0,0,0, 0,0,0
;  db 2, 8,120,$03, 16,120,$23, 0,0,0, 0,0,0, 0,0,0
;  db 2, 8,116,$03, 16,116,$23, 0,0,0, 0,0,0, 0,0,0
;  ; Cnt, 'X,Index,Attr' * 4
;  db 2, 8,114,$03, 16,114,$23, 3,12,$02, 21,12,$22, 0,0,0
;  db 2, 8,112,$03, 16,112,$23, 3, 8,$02, 21, 8,$22, 0,0,0
;
;  ;test
;  ;db 5, -4, 80,$00, 4, 82,$01, 12, 84,$01, 20, 82,$21, 28,80,$20
;  db 5, -3, 80,$00, 4, 86,$01, 12, 84,$01, 20, 86,$21, 27,80,$20
;  db 4, 8, 28,$01, 16, 28,$21, 1, 0,$02, 23, 0,$20, 0,0,0
;
;  ;db 2, 8,108,$03, 16,108,$23, 2, 4,$02, 22, 4,$22, 0,0,0
;  ;db 2, 8, 28,$03, 16, 28,$23, 1, 0,$02, 23, 0,$22, 0,0,0

;SECTION "Rival Car Left Sprite Table",ROM0[$2500]
;RCarLSpriteTbl:
;  ; Cnt, 'X,Index,Attr' * 3, Reset Flag:0
;  db 3,  9,122,$04,  9,126,$03, 17,126,$23, 0,0,0, 0,0,0
;  db 3,  9,122,$04, 10,120,$03, 18,120,$23, 0,0,0, 0,0,0
;  db 3,  7,122,$04,  9,116,$03, 17,116,$23, 0,0,0, 0,0,0
;  ; Cnt, 'X,Index,Attr' * 4
;  db 3,  9,114,$03, 17,114,$23,  4,66,$04, 22,12,$22,  0,0,0
;  db 3,  4,110,$04,  9,112,$03, 17,112,$23,  4,10,$02, 22, 8,$22
;  db 3,  3,106,$04,  9,108,$03, 17,108,$23,  3, 6,$02, 23, 4,$22
;  db 4, 17, 30,$20, 11, 50,$03, 19, 48,$23,  4,52,$04, 26,60,$22

SECTION "Road Pattern Table",ROM0[$3000]
DEF RPTT EQU SetRoadPTurnTest ;test
DEF RPTI EQU SetRoadPTurnInc ; TurnPos Inc
DEF RPTD EQU SetRoadPTurnDec ; TurnPos Dec
DEF RPWT EQU SetRoadPWait ; Wait

RoadPatternTbl:
  ;RPxx: addr,param|cnt
  dw RPTI,$8017 ;C
  dw RPWT,$a010 ;start
  dw RPTD,$301a ;R
  dw RPWT,$8010
  dw RPTI,$301a ;C
  dw RPWT,$5010
  dw RPTI,$501a ;L
  dw RPWT,$af20
  dw RPTD,$500d ;R
  dw RPWT,$af10
  dw RPTD,$500d ;C
  dw RPWT,$af10
  dw RPTD,$600d ;R
  dw RPWT,$8010
  dw RPTD,$600a ;R
  dw RPWT,$af10

SECTION "Turn Right Address Table",ROM0[$3100]
TurnAddrTbl:
  dw TurnRTbl+TurnTblSize*25 ;$1a R $00
  dw TurnRTbl+TurnTblSize*24 ;$19 R $01
  dw TurnRTbl+TurnTblSize*23 ;$18 R $02
  dw TurnRTbl+TurnTblSize*22 ;$17 R $03
  dw TurnRTbl+TurnTblSize*21 ;$16 R $04
  dw TurnRTbl+TurnTblSize*20 ;$15 R $05
  dw TurnRTbl+TurnTblSize*19 ;$14 R $06
  dw TurnRTbl+TurnTblSize*18 ;$13 R $07
  dw TurnRTbl+TurnTblSize*17 ;$12 R $08
  dw TurnRTbl+TurnTblSize*16 ;$11 R $09
  dw TurnRTbl+TurnTblSize*15 ;$10 R $0a
  dw TurnRTbl+TurnTblSize*14 ;$0f R $0b
  dw TurnRTbl+TurnTblSize*13 ;$0e R $0c
  dw TurnRTbl+TurnTblSize*12 ;$0d R $0d
  dw TurnRTbl+TurnTblSize*11 ;$0c R $0e
  dw TurnRTbl+TurnTblSize*10 ;$0b R $0f
  dw TurnRTbl+TurnTblSize*9  ;$0a R $10
  dw TurnRTbl+TurnTblSize*8  ;$09 R $11
  dw TurnRTbl+TurnTblSize*7  ;$08 R $12
  dw TurnRTbl+TurnTblSize*6  ;$07 R $13
  dw TurnRTbl+TurnTblSize*5  ;$06 R $14
  dw TurnRTbl+TurnTblSize*4  ;$05 R $15
  dw TurnRTbl+TurnTblSize*3  ;$04 R $16
  dw TurnRTbl+TurnTblSize*2  ;$03 R $17
  dw TurnRTbl+TurnTblSize*1  ;$02 R $18
  dw TurnRTbl+TurnTblSize*0  ;$01 R $19
  dw $001a                   ;$00 C $1a
  dw TurnLTbl+TurnTblSize*0  ;$01 L $1b
  dw TurnLTbl+TurnTblSize*1  ;$02 L $1c
  dw TurnLTbl+TurnTblSize*2  ;$03 L $1d
  dw TurnLTbl+TurnTblSize*3  ;$04 L $1e
  dw TurnLTbl+TurnTblSize*4  ;$05 L $1f
  dw TurnLTbl+TurnTblSize*5  ;$06 L $20
  dw TurnLTbl+TurnTblSize*6  ;$07 L $21
  dw TurnLTbl+TurnTblSize*7  ;$08 L $22
  dw TurnLTbl+TurnTblSize*8  ;$09 L $23
  dw TurnLTbl+TurnTblSize*9  ;$0a L $24
  dw TurnLTbl+TurnTblSize*10 ;$0b L $25
  dw TurnLTbl+TurnTblSize*11 ;$0c L $26
  dw TurnLTbl+TurnTblSize*12 ;$0d L $27
  dw TurnLTbl+TurnTblSize*13 ;$0e L $28
  dw TurnLTbl+TurnTblSize*14 ;$0f L $29
  dw TurnLTbl+TurnTblSize*15 ;$10 L $2a
  dw TurnLTbl+TurnTblSize*16 ;$11 L $2b
  dw TurnLTbl+TurnTblSize*17 ;$12 L $2c
  dw TurnLTbl+TurnTblSize*18 ;$13 L $2d
  dw TurnLTbl+TurnTblSize*19 ;$14 L $2e
  dw TurnLTbl+TurnTblSize*20 ;$15 L $2f
  dw TurnLTbl+TurnTblSize*21 ;$16 L $30
  dw TurnLTbl+TurnTblSize*22 ;$17 L $31
  dw TurnLTbl+TurnTblSize*23 ;$18 L $32
  dw TurnLTbl+TurnTblSize*24 ;$19 L $33
  dw TurnLTbl+TurnTblSize*25 ;$1a L $34

BGPalette:
  dw 650
  dw 12684
  dw 32767
  dw 31

  dw 650
  dw 12684
  dw 1023
  dw 32767

  dw 10565
  dw 32229
  dw 32767
  dw 0  

  dw 266
  dw 500
  dw 10565
  dw 0

ObjPalette:
  dw 15855
  dw 0
  dw 29596
  dw 27200

  dw 15855
  dw 0
  dw 28
  dw 924

  dw 15855
  dw 0
  dw 32006
  dw 32564

CarSprite:
DEF CX EQU CarPosX
  ; X Pos: 0-255
  ;  |     +-Index: %xxx43210 0-31
  ;  |     |-XFlip: %xx5xxxxx 0-1
  ;  |     |-Pal  : %76xxxxxx 0-2
  ;  |ref  |    1          0 L tire  2 Center   3          4 R tire
  db CX+ 7,$2b, CX+ 6,$54, CX+0,$0c, CX+14,$73, CX+22,$69, CX+27,$2e,   0,0,0,0 ;0 Right 3
  db CX+ 7,$2b, CX+ 7,$43, CX+0,$0c, CX+15,$72, CX+23,$75, CX+28,$26,   0,0,0,0 ;1 Right 2
  db CX+ 6,$2b, CX+ 8,$4a, CX+1,$0c, CX+16,$65, CX+24,$68, CX+29,$20,   0,0,0,0 ;2 Right 1
  db     0,  0, CX+ 8,$42, CX+2,$10, CX+16,$44, CX+24,$62, CX+30,$30,   0,0,0,0 ;3 Center
  db CX+26,$0b, CX+ 8,$48, CX+3,$00, CX+16,$45, CX+24,$6a, CX+31,$2c,   0,0,0,0 ;4 Left 1
  db CX+25,$0b, CX+ 9,$55, CX+4,$06, CX+17,$52, CX+25,$63, CX+32,$2c,   0,0,0,0 ;5 Left 2
  db CX+25,$0b, CX+10,$49, CX+5,$0e, CX+18,$53, CX+26,$74, CX+32,$2c, $ff,0,0,0 ;6 Left 3

;===================================================================================
;
; [Compressed data] | [Uncompressed]| [Source]       | [Created tool]
;---------------------------------------------------------------------
; sprites_comp.bin  | sprites.bin   | sprites.gbr    | GBMB
; tiles_comp.bin    | tiles.bin     | tiles.gbr      | GBTD
; bg_tile0_comp.bin | bg_tile0.bin  | map_editor.txt | GBCMapEditor
; bg_tile1_comp.bin | bg_tile1.bin  | map_editor.txt | GBCMapEditor
;
; - Compressed data creation command.
; php convBin.php
; *RunLengthEncoder.php is executed inside convBin.php.
;
; - Related documents
; Run-length encode binary data with php and decode it with assembly code.
; https://github.com/emutyworks/Learning-GB-Programming/wiki/RunLengthEncodeDecode
;
;===================================================================================

SECTION "Resource",ROM0[$4000]
Sprites:
  INCBIN "resource/sprites_comp.bin"
SpritesEnd:

Tiles:
  INCBIN "resource/tiles_comp.bin"
TilesEnd:

BgTileMap0: ; Tile Indexes
  INCBIN "resource/bg_tile0_comp.bin"
BgTileMap0End:

BgTileMap1: ; BG Map Attr
  INCBIN "resource/bg_tile1_comp.bin"
BgTileMap1End:

SECTION "HBlank Turn Right Table",ROM0[$7000]
TurnRTbl:
  db  -4, -4, -3, -3, -3, -2, -2, -2,  -2, -2, -1, -1, -1, -1, -1, -1,  -1, -1,  0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0 ;1
  db  -8, -7, -6, -6, -5, -5, -4, -4,  -4, -3, -3, -3, -2, -2, -2, -1,  -1, -1, -1, -1,-1,-1,-1, 0,  0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0 ;2
  db -10, -9, -8, -7, -6, -6, -6, -6,  -5, -5, -4, -4, -3, -3, -3, -2,  -2, -2, -1, -1,-1,-1,-1,-1, -1, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0 ;3
  db -14,-13,-12,-11,-10, -9, -8, -8,  -7, -6, -6, -5, -4, -3, -3, -3,  -2, -2, -2, -2,-1,-1,-1,-1, -1,-1, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0 ;4
  db -18,-17,-16,-14,-13,-12,-11,-10,  -9, -8, -7, -6, -6, -5, -4, -4,  -3, -3, -2, -2,-2,-2,-1,-1, -1,-1,-1,-1,-1, 0, 0, 0,  0, 0, 0, 0, 0, 0 ;5
  ;$05
  db -22,-21,-19,-17,-16,-15,-13,-12, -11,-10, -9, -8, -7, -6, -5, -4,  -4, -3, -3, -3,-2,-2,-2,-1, -1,-1,-1,-1,-1, 0, 0, 0,  0, 0, 0, 0, 0, 0 ;6
  db -27,-25,-23,-21,-19,-18,-16,-14, -13,-11,-10, -9, -8, -7, -6, -5,  -4, -4, -3, -3,-2,-2,-2,-1, -1,-1,-1,-1,-1,-1,-1,-1,  0, 0, 0, 0, 0, 0 ;7
  db -29,-27,-25,-23,-21,-19,-18,-16, -14,-13,-11,-10, -9, -8, -7, -6,  -5, -4, -4, -3,-3,-2,-2,-2, -2,-1,-1,-1,-1,-1,-1,-1,  0, 0, 0, 0, 0, 0 ;8
  db -31,-29,-27,-25,-23,-21,-20,-18, -16,-15,-13,-11,-10, -9, -8, -7,  -6, -5, -4, -4,-3,-3,-2,-2, -2,-1,-1,-1,-1,-1,-1,-1,  0, 0, 0, 0, 0, 0 ;9
  db -34,-32,-30,-28,-26,-24,-22,-20, -18,-16,-14,-13,-11,-10, -8, -7,  -6, -5, -5, -4,-3,-3,-3,-2, -2,-2,-1,-1,-1,-1,-1,-1,  0, 0, 0, 0, 0, 0 ;a
  ;$0a
  db -37,-35,-33,-30,-28,-26,-24,-22, -20,-18,-16,-14,-12,-11, -9, -8,  -7, -6, -5, -5,-4,-3,-3,-2, -2,-2,-1,-1,-1,-1,-1,-1,  0, 0, 0, 0, 0, 0 ;b
  db -40,-38,-36,-33,-31,-29,-26,-24, -22,-19,-17,-15,-13,-12,-10, -9,  -7, -6, -6, -5,-4,-4,-3,-2, -2,-2,-1,-1,-1,-1,-1,-1,  0, 0, 0, 0, 0, 0 ;c
  db -43,-41,-39,-36,-34,-32,-29,-26, -24,-21,-19,-17,-15,-13,-11,-10,  -8, -7, -6, -6,-5,-4,-4,-3, -3,-2,-2,-2,-2,-1,-1,-1, -1,-1,-1,-1,-1,-1 ;d
  db -47,-45,-42,-39,-36,-34,-31,-28, -25,-23,-20,-18,-16,-13,-12,-10,  -9, -8, -7, -6,-5,-4,-4,-3, -3,-2,-2,-2,-2,-1,-1,-1, -1,-1,-1,-1,-1,-1 ;e
  db -51,-48,-45,-42,-39,-36,-33,-30, -27,-24,-21,-19,-17,-14,-13,-11,  -9, -8, -7, -6,-5,-5,-4,-3, -3,-2,-2,-2,-2,-1,-1,-1, -1,-1,-1,-1,-1,-1 ;f
  ;$0f
  db -54,-51,-48,-45,-42,-39,-35,-32, -29,-26,-23,-20,-18,-15,-14,-12, -10, -9, -7, -7,-6,-5,-4,-3, -3,-2,-2,-2,-2,-1,-1,-1, -1,-1,-1,-1,-1,-1 ;10
  db -57,-54,-51,-47,-44,-41,-37,-34, -31,-27,-24,-22,-19,-16,-14,-12, -10, -9, -8, -7,-6,-5,-5,-3, -3,-3,-2,-2,-2,-1,-1,-1, -1,-1,-1,-1,-1,-1 ;11
  db -60,-57,-54,-50,-47,-44,-39,-36, -32,-29,-26,-23,-20,-17,-15,-13, -11,-10, -8, -8,-6,-6,-5,-3, -3,-3,-2,-2,-2,-1,-1,-1, -1,-1,-1,-1,-1,-1 ;12
  db -64,-61,-57,-53,-50,-46,-42,-38, -34,-31,-27,-24,-21,-18,-16,-14, -12,-10, -9, -8,-7,-6,-5,-4, -4,-3,-2,-2,-2,-1,-1,-1, -1,-1,-1,-1,-1,-1 ;13
  db -67,-64,-60,-56,-52,-48,-44,-40, -36,-32,-28,-25,-22,-19,-17,-15, -12,-11, -9, -8,-7,-6,-5,-4, -4,-3,-2,-2,-2,-2,-2,-2, -1,-1,-1,-1,-1,-1 ;14
  ;$14
  db -70,-67,-63,-59,-55,-51,-46,-42, -38,-34,-30,-27,-23,-20,-18,-15, -12,-11,-10, -9,-7,-6,-6,-4, -4,-3,-2,-2,-2,-2,-2,-2, -1,-1,-1,-1,-1,-1 ;15
  db -74,-70,-66,-62,-58,-53,-48,-44, -40,-36,-31,-28,-25,-21,-19,-16, -14,-12,-10, -9,-8,-7,-6,-4, -4,-3,-3,-3,-3,-2,-2,-2, -1,-1,-1,-1,-1,-1 ;16
  db -76,-73,-69,-65,-60,-56,-50,-46, -42,-37,-33,-29,-26,-22,-19,-17, -14,-12,-11,-10,-8,-7,-6,-4, -4,-4,-3,-3,-3,-2,-2,-2, -1,-1,-1,-1,-1,-1 ;17
  db -79,-76,-72,-67,-63,-58,-53,-48, -43,-39,-34,-30,-27,-23,-20,-18, -15,-13,-11,-10,-8,-7,-6,-5, -5,-4,-3,-3,-3,-2,-2,-2, -1,-1,-1,-1,-1,-1 ;18
  db -83,-79,-75,-70,-65,-61,-55,-50, -45,-40,-36,-32,-28,-24,-21,-18, -15,-13,-12,-11,-9,-8,-7,-5, -5,-4,-3,-3,-3,-2,-2,-2, -1,-1,-1,-1,-1,-1 ;19
  db -86,-82,-78,-73,-68,-63,-57,-52, -47,-42,-37,-33,-29,-25,-22,-19, -16,-14,-12,-11,-9,-8,-7,-5, -5,-4,-3,-3,-3,-2,-2,-2, -1,-1,-1,-1,-1,-1 ;1a
  ;$1a

TurnLTbl:
  db  4, 4, 3, 3, 3, 2, 2, 2,  2, 2, 1, 1, 1, 1, 1, 1,  1, 1, 0, 0,0,0,0,0, 0,0,0,0,0,0,0,0, 0,0,0,0,0,0 ;1
  db  8, 7, 6, 6, 5, 5, 4, 4,  4, 3, 3, 3, 2, 2, 2, 1,  1, 1, 1, 1,1,1,1,0, 0,0,0,0,0,0,0,0, 0,0,0,0,0,0 ;2
  db 10, 9, 8, 7, 6, 6, 6, 6,  5, 5, 4, 4, 3, 3, 3, 2,  2, 2, 1, 1,1,1,1,1, 1,0,0,0,0,0,0,0, 0,0,0,0,0,0 ;3
  db 14,13,12,11,10, 9, 8, 8,  7, 6, 6, 5, 4, 3, 3, 3,  2, 2, 2, 2,1,1,1,1, 1,1,0,0,0,0,0,0, 0,0,0,0,0,0 ;4
  db 18,17,16,14,13,12,11,10,  9, 8, 7, 6, 6, 5, 4, 4,  3, 3, 2, 2,2,2,1,1, 1,1,1,1,1,0,0,0, 0,0,0,0,0,0 ;5
  ;$05
  db 22,21,19,17,16,15,13,12, 11,10, 9, 8, 7, 6, 5, 4,  4, 3, 3, 3,2,2,2,1, 1,1,1,1,1,0,0,0, 0,0,0,0,0,0 ;6
  db 27,25,23,21,19,18,16,14, 13,11,10, 9, 8, 7, 6, 5,  4, 4, 3, 3,2,2,2,1, 1,1,1,1,1,1,1,1, 0,0,0,0,0,0 ;7
  db 29,27,25,23,21,19,18,16, 14,13,11,10, 9, 8, 7, 6,  5, 4, 4, 3,3,2,2,2, 2,1,1,1,1,1,1,1, 0,0,0,0,0,0 ;8
  db 31,29,27,25,23,21,20,18, 16,15,13,11,10, 9, 8, 7,  6, 5, 4, 4,3,3,2,2, 2,1,1,1,1,1,1,1, 0,0,0,0,0,0 ;9
  db 34,32,30,28,26,24,22,20, 18,16,14,13,11,10, 8, 7,  6, 5, 5, 4,3,3,3,2, 2,2,1,1,1,1,1,1, 0,0,0,0,0,0 ;a
  ;$0a
  db 37,35,33,30,28,26,24,22, 20,18,16,14,12,11, 9, 8,  7, 6, 5, 5,4,3,3,2, 2,2,1,1,1,1,1,1, 0,0,0,0,0,0 ;b
  db 40,38,36,33,31,29,26,24, 22,19,17,15,13,12,10, 9,  7, 6, 6, 5,4,4,3,2, 2,2,1,1,1,1,1,1, 0,0,0,0,0,0 ;c
  db 43,41,39,36,34,32,29,26, 24,21,19,17,15,13,11,10,  8, 7, 6, 6,5,4,4,3, 3,2,2,2,2,1,1,1, 1,1,1,1,1,1 ;d
  db 47,45,42,39,36,34,31,28, 25,23,20,18,16,13,12,10,  9, 8, 7, 6,5,4,4,3, 3,2,2,2,2,1,1,1, 1,1,1,1,1,1 ;e
  db 51,48,45,42,39,36,33,30, 27,24,21,19,17,14,13,11,  9, 8, 7, 6,5,5,4,3, 3,2,2,2,2,1,1,1, 1,1,1,1,1,1 ;f
  ;$0f
  db 54,51,48,45,42,39,35,32, 29,26,23,20,18,15,14,12, 10, 9, 7, 7,6,5,4,3, 3,2,2,2,2,1,1,1, 1,1,1,1,1,1 ;10
  db 57,54,51,47,44,41,37,34, 31,27,24,22,19,16,14,12, 10, 9, 8, 7,6,5,5,3, 3,3,2,2,2,1,1,1, 1,1,1,1,1,1 ;11
  db 60,57,54,50,47,44,39,36, 32,29,26,23,20,17,15,13, 11,10, 8, 8,6,6,5,3, 3,3,2,2,2,1,1,1, 1,1,1,1,1,1 ;12
  db 64,61,57,53,50,46,42,38, 34,31,27,24,21,18,16,14, 12,10, 9, 8,7,6,5,4, 4,3,2,2,2,1,1,1, 1,1,1,1,1,1 ;13
  db 67,64,60,56,52,48,44,40, 36,32,28,25,22,19,17,15, 12,11, 9, 8,7,6,5,4, 4,3,2,2,2,2,2,2, 1,1,1,1,1,1 ;14
  ;$14
  db 70,67,63,59,55,51,46,42, 38,34,30,27,23,20,18,15, 12,11,10, 9,7,6,6,4, 4,3,2,2,2,2,2,2, 1,1,1,1,1,1 ;15
  db 74,70,66,62,58,53,48,44, 40,36,31,28,25,21,19,16, 14,12,10, 9,8,7,6,4, 4,3,3,3,3,2,2,2, 1,1,1,1,1,1 ;16
  db 76,73,69,65,60,56,50,46, 42,37,33,29,26,22,19,17, 14,12,11,10,8,7,6,4, 4,4,3,3,3,2,2,2, 1,1,1,1,1,1 ;17
  db 79,76,72,67,63,58,53,48, 43,39,34,30,27,23,20,18, 15,13,11,10,8,7,6,5, 5,4,3,3,3,2,2,2, 1,1,1,1,1,1 ;18
  db 83,79,75,70,65,61,55,50, 45,40,36,32,28,24,21,18, 15,13,12,11,9,8,7,5, 5,4,3,3,3,2,2,2, 1,1,1,1,1,1 ;19
  db 86,82,78,73,68,63,57,52, 47,42,37,33,29,25,22,19, 16,14,12,11,9,8,7,5, 5,4,3,3,3,2,2,2, 1,1,1,1,1,1 ;1a
  ;$1a
  ;48

SECTION "HBlank Road Y Position Table",ROM0[$7800]
DEF S0 EQU 0
DEF S1 EQU 8*8

RoadYPosTbl:
  db S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1
  db S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1
  db S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1
  db S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1
  db S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0
  db S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0
  db S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0
  db S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0,S0,S0,S0,S1,S1,S1,S1,S0

;$7a00-$7bff=512

;===================================================================================
;
;adress                      ;[wJoyPadPos]
;RoadXPosTbl:
;$7c00                       ;L 1-7|8|9-15 R
;$7c40 %0111 1100 %0100 0000 ;%00 01 ;1
;$7c80 %0111 1100 %1000 0000 ;%00 10 ;2
;$7cc0 %0111 1100 %1100 0000 ;%00 11 ;3
;$7d00 %0111 1101 %0000 0000 ;%01 00 ;4
;$7d40 %0111 1101 %0100 0000 ;%01 01 ;5
;$7d80 %0111 1101 %1000 0000 ;%01 10 ;6
;$7dc0 %0111 1101 %1100 0000 ;%01 11 ;7
;-
;$7e00 %0111 1110 %1000 0000 ;%10 00 ;8
;-
;$7e40 %0111 1110 %0100 0000 ;%10 01 ;9
;$7e80 %0111 1110 %1000 0000 ;%10 10 ;10
;$7ec0 %0111 1110 %1100 0000 ;%10 11 ;11
;$7f00 %0111 1111 %0000 0000 ;%11 00 ;12
;$7f40 %0111 1111 %0100 0000 ;%11 01 ;13
;$7f80 %0111 1111 %1000 0000 ;%11 10 ;14
;$7fc0 %0111 1111 %1100 0000 ;%11 11 ;15
;
; - "RoadXPosTbl" data creation command.
; php createRoadXPosTbl.php > road_x.inc
;
;===================================================================================

SECTION "HBlank Road X Position Table",ROM0[$7c00]
RoadXPosTbl:
  db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
  db $00,$ff,$fd,$fc,$fb,$fa,$f9,$f7,$f6,$f5,$f4,$f3,$f1,$f0,$ef,$ee,$ed,$eb,$ea,$e9,$e8,$e7,$e5,$e4,$e3,$e2,$e1,$df,$de,$dd,$dc,$db,$d9,$d8,$d7,$d6,$d5,$d3,$d2,$d1,$d0,$cf,$cd,$cc,$cb,$ca,$c9,$c7,$c6,$c5,$c4,$c3,$c1,$c0,$bf,$be,$bd,$bb,$ba,$b9,$b8,$b7,$b5,$b4
  db $00,$ff,$fe,$fd,$fc,$fb,$fa,$f9,$f8,$f7,$f6,$f5,$f4,$f3,$f2,$f1,$ef,$ee,$ed,$ec,$eb,$ea,$e9,$e8,$e7,$e6,$e5,$e4,$e3,$e2,$e1,$e0,$df,$de,$dd,$dc,$db,$da,$d9,$d8,$d7,$d6,$d5,$d4,$d3,$d2,$d1,$d0,$ce,$cd,$cc,$cb,$ca,$c9,$c8,$c7,$c6,$c5,$c4,$c3,$c2,$c1,$c0,$bf
  db $00,$ff,$fe,$fd,$fd,$fc,$fb,$fa,$f9,$f8,$f7,$f7,$f6,$f5,$f4,$f3,$f2,$f1,$f1,$f0,$ef,$ee,$ed,$ec,$eb,$eb,$ea,$e9,$e8,$e7,$e6,$e5,$e5,$e4,$e3,$e2,$e1,$e0,$df,$de,$de,$dd,$dc,$db,$da,$d9,$d8,$d8,$d7,$d6,$d5,$d4,$d3,$d2,$d2,$d1,$d0,$cf,$ce,$cd,$cc,$cc,$cb,$ca
  db $00,$ff,$ff,$fe,$fd,$fd,$fc,$fb,$fb,$fa,$f9,$f8,$f8,$f7,$f6,$f6,$f5,$f4,$f4,$f3,$f2,$f2,$f1,$f0,$f0,$ef,$ee,$ed,$ed,$ec,$eb,$eb,$ea,$e9,$e9,$e8,$e7,$e7,$e6,$e5,$e5,$e4,$e3,$e2,$e2,$e1,$e0,$e0,$df,$de,$de,$dd,$dc,$dc,$db,$da,$da,$d9,$d8,$d7,$d7,$d6,$d5,$d5
  db $00,$ff,$ff,$fe,$fe,$fd,$fd,$fc,$fc,$fb,$fb,$fa,$fa,$f9,$f9,$f8,$f8,$f7,$f7,$f6,$f6,$f5,$f5,$f4,$f4,$f3,$f3,$f2,$f2,$f1,$f1,$f0,$f0,$ef,$ee,$ee,$ed,$ed,$ec,$ec,$eb,$eb,$ea,$ea,$e9,$e9,$e8,$e8,$e7,$e7,$e6,$e6,$e5,$e5,$e4,$e4,$e3,$e3,$e2,$e2,$e1,$e1,$e0,$e0
  db $00,$00,$ff,$ff,$ff,$fe,$fe,$fe,$fd,$fd,$fd,$fc,$fc,$fc,$fb,$fb,$fb,$fa,$fa,$f9,$f9,$f9,$f8,$f8,$f8,$f7,$f7,$f7,$f6,$f6,$f6,$f5,$f5,$f5,$f4,$f4,$f4,$f3,$f3,$f3,$f2,$f2,$f2,$f1,$f1,$f1,$f0,$f0,$f0,$ef,$ef,$ee,$ee,$ee,$ed,$ed,$ed,$ec,$ec,$ec,$eb,$eb,$eb,$ea
  db $00,$00,$00,$ff,$ff,$ff,$ff,$ff,$ff,$fe,$fe,$fe,$fe,$fe,$fe,$fd,$fd,$fd,$fd,$fd,$fd,$fc,$fc,$fc,$fc,$fc,$fc,$fb,$fb,$fb,$fb,$fb,$fb,$fa,$fa,$fa,$fa,$fa,$f9,$f9,$f9,$f9,$f9,$f9,$f8,$f8,$f8,$f8,$f8,$f8,$f7,$f7,$f7,$f7,$f7,$f7,$f6,$f6,$f6,$f6,$f6,$f6,$f5,$f5
  db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
  db $00,$00,$00,$01,$01,$01,$01,$01,$01,$02,$02,$02,$02,$02,$02,$03,$03,$03,$03,$03,$03,$04,$04,$04,$04,$04,$04,$05,$05,$05,$05,$05,$05,$06,$06,$06,$06,$06,$07,$07,$07,$07,$07,$07,$08,$08,$08,$08,$08,$08,$09,$09,$09,$09,$09,$09,$0a,$0a,$0a,$0a,$0a,$0a,$0b,$0b
  db $00,$00,$01,$01,$01,$02,$02,$02,$03,$03,$03,$04,$04,$04,$05,$05,$05,$06,$06,$07,$07,$07,$08,$08,$08,$09,$09,$09,$0a,$0a,$0a,$0b,$0b,$0b,$0c,$0c,$0c,$0d,$0d,$0d,$0e,$0e,$0e,$0f,$0f,$0f,$10,$10,$10,$11,$11,$12,$12,$12,$13,$13,$13,$14,$14,$14,$15,$15,$15,$16
  db $00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07,$08,$08,$09,$09,$0a,$0a,$0b,$0b,$0c,$0c,$0d,$0d,$0e,$0e,$0f,$0f,$10,$10,$11,$12,$12,$13,$13,$14,$14,$15,$15,$16,$16,$17,$17,$18,$18,$19,$19,$1a,$1a,$1b,$1b,$1c,$1c,$1d,$1d,$1e,$1e,$1f,$1f,$20,$20
  db $00,$01,$01,$02,$03,$03,$04,$05,$05,$06,$07,$08,$08,$09,$0a,$0a,$0b,$0c,$0c,$0d,$0e,$0e,$0f,$10,$10,$11,$12,$13,$13,$14,$15,$15,$16,$17,$17,$18,$19,$19,$1a,$1b,$1b,$1c,$1d,$1e,$1e,$1f,$20,$20,$21,$22,$22,$23,$24,$24,$25,$26,$26,$27,$28,$29,$29,$2a,$2b,$2b
  db $00,$01,$02,$03,$03,$04,$05,$06,$07,$08,$09,$09,$0a,$0b,$0c,$0d,$0e,$0f,$0f,$10,$11,$12,$13,$14,$15,$15,$16,$17,$18,$19,$1a,$1b,$1b,$1c,$1d,$1e,$1f,$20,$21,$22,$22,$23,$24,$25,$26,$27,$28,$28,$29,$2a,$2b,$2c,$2d,$2e,$2e,$2f,$30,$31,$32,$33,$34,$34,$35,$36
  db $00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0a,$0b,$0c,$0d,$0e,$0f,$11,$12,$13,$14,$15,$16,$17,$18,$19,$1a,$1b,$1c,$1d,$1e,$1f,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$2a,$2b,$2c,$2d,$2e,$2f,$30,$32,$33,$34,$35,$36,$37,$38,$39,$3a,$3b,$3c,$3d,$3e,$3f,$40,$41
  db $00,$01,$03,$04,$05,$06,$07,$09,$0a,$0b,$0c,$0d,$0f,$10,$11,$12,$13,$15,$16,$17,$18,$19,$1b,$1c,$1d,$1e,$1f,$21,$22,$23,$24,$25,$27,$28,$29,$2a,$2b,$2d,$2e,$2f,$30,$31,$33,$34,$35,$36,$37,$39,$3a,$3b,$3c,$3d,$3f,$40,$41,$42,$43,$45,$46,$47,$48,$49,$4b,$4c